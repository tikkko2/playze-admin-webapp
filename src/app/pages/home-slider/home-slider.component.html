<div class="bg-[#121212] dash-component p-8 border border-[#caff5881] rounded">
  <div class="flex justify-end">
    <button type="button" class="bg-[#caff58] text-black px-4 py-2 rounded-md" (click)="openDialog()">Add Slider Image</button>
  </div>
  <div cdkDropList class="example-list" (cdkDropListDropped)="drop($event)">
    @for (image of sliderImages; track image) {
      <div class="relative flex items-center example-box min-h-52" cdkDrag>
        <img [src]="environment.bucket + image.url" [alt]="image.id" class="w-full h-full object-cover">
        
        <!-- Action icons on the right side -->
        <div class="absolute right-3 top-3 flex gap-2">
          <label class="inline-flex items-center cursor-pointer">
            <input
              type="checkbox"
              [checked]="image.visible ?? false"
              (click)="toggleVisibility(image.id, image.visible ?? false); $event.stopPropagation();"
              class="sr-only peer"
            />
            <div
              class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-[#b1df4e]"
            ></div>
          </label>
          
          <!-- Edit icon -->
          <button 
            (click)="editImage(image); $event.stopPropagation();" 
            class="p-2 bg-yellow-600 rounded-full hover:bg-yellow-700 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
              <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
            </svg>
          </button>
          
          <!-- Delete icon -->
          <button 
            (click)="deleteImage(image.id); $event.stopPropagation();" 
            class="p-2 bg-red-600 rounded-full hover:bg-red-700 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="3 6 5 6 21 6"></polyline>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
              <line x1="10" y1="11" x2="10" y2="17"></line>
              <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
          </button>
        </div>
      </div>
    }
  </div>
</div>